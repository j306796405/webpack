{"version":3,"sources":["./src/js/detail.js","./src/js/lib/jquery.fly.js"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,uCAAsC,eAAe;AACrD,4BAA2B;AAC3B;;AAEA,MAAK;AACL,E;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,oBAAmB;AACnB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;;AAEA,2BAA0B,uDAAuD;AACjF;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,wFAAwF;AACtH;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC,K","sourcesContent":["/**\r\n * FileName detail\r\n * Date 2016-06-28\r\n * Created by jianglinj\r\n */\r\nvar $ = require('jquery'),\r\n    template = require('artTemplate'),\r\n    fly = require('fly');\r\n\r\n$('.container').on('click', addProduct);\r\nfunction addProduct(event) {\r\n    var offset = $(\"#right_shop_cart\").offset(),\r\n        flyer = $('<img class=\"u-flyer\" src=\"http://s3-us-west-2.amazonaws.com/s.cdpn.io/38111/profile/profile-80_1.jpg\"/>');\r\n    flyer.fly({\r\n        start: {\r\n            left: event.pageX,\r\n            top: event.pageY\r\n        },\r\n        end: {\r\n            left: offset.left,\r\n            top: offset.top,\r\n            width: 0,\r\n            height: 0\r\n        },\r\n        onEnd: function () {\r\n            $(\"#msg\").show().animate({width: '250px'}, 200).fadeOut(1000);\r\n            this.destroy(); //移除dom\r\n        }\r\n\r\n    });\r\n}","/**\r\n * FileName jquery.fly.js\r\n * Date 2016-06-28\r\n * Created by jianglinj\r\n */\r\n/*\r\n * jquery.fly\r\n * \r\n * 抛物线动画\r\n * @github https://github.com/amibug/fly\r\n * Copyright (c) 2014 wuyuedong\r\n * copy from tmall.com\r\n */\r\nvar $ = require('jquery');\r\n\r\n/*! fly - v1.0.0 - 2015-03-23\r\n * https://github.com/amibug/fly\r\n * Copyright (c) 2015 wuyuedong; Licensed MIT */\r\n(function ($) {\r\n    $.fly = function (element, options) {\r\n        // 默认值\r\n        var defaults = {\r\n            version: '1.0.0',\r\n            autoPlay: true,\r\n            vertex_Rtop: 20, // 默认顶点高度top值\r\n            speed: 1.2,\r\n            start: {}, // top, left, width, height\r\n            end: {},\r\n            onEnd: $.noop\r\n        };\r\n\r\n        var self = this,\r\n            $element = $(element);\r\n\r\n        /**\r\n         * 初始化组件，new的时候即调用\r\n         */\r\n        self.init = function (options) {\r\n            this.setOptions(options);\r\n            !!this.settings.autoPlay && this.play();\r\n        };\r\n\r\n        /**\r\n         * 设置组件参数\r\n         */\r\n        self.setOptions = function (options) {\r\n            this.settings = $.extend(true, {}, defaults, options);\r\n            var settings = this.settings,\r\n                start = settings.start,\r\n                end = settings.end;\r\n\r\n            $element.css({marginTop: '0px', marginLeft: '0px', position: 'fixed'}).appendTo('body');\r\n            // 运动过程中有改变大小\r\n            if (end.width != null && end.height != null) {\r\n                $.extend(true, start, {\r\n                    width: $element.width(),\r\n                    height: $element.height()\r\n                });\r\n            }\r\n            // 运动轨迹最高点top值\r\n            var vertex_top = Math.min(start.top, end.top) - Math.abs(start.left - end.left) / 3;\r\n            if (vertex_top < settings.vertex_Rtop) {\r\n                // 可能出现起点或者终点就是运动曲线顶点的情况\r\n                vertex_top = Math.min(settings.vertex_Rtop, Math.min(start.top, end.top));\r\n            }\r\n\r\n            /**\r\n             * ======================================================\r\n             * 运动轨迹在页面中的top值可以抽象成函数 y = a * x*x + b;\r\n             * a = curvature\r\n             * b = vertex_top\r\n             * ======================================================\r\n             */\r\n\r\n            var distance = Math.sqrt(Math.pow(start.top - end.top, 2) + Math.pow(start.left - end.left, 2)),\r\n            // 元素移动次数\r\n                steps = Math.ceil(Math.min(Math.max(Math.log(distance) / 0.05 - 75, 30), 100) / settings.speed),\r\n                ratio = start.top == vertex_top ? 0 : -Math.sqrt((end.top - vertex_top) / (start.top - vertex_top)),\r\n                vertex_left = (ratio * start.left - end.left) / (ratio - 1),\r\n            // 特殊情况，出现顶点left==终点left，将曲率设置为0，做直线运动。\r\n                curvature = end.left == vertex_left ? 0 : (end.top - vertex_top) / Math.pow(end.left - vertex_left, 2);\r\n\r\n            $.extend(true, settings, {\r\n                count: -1, // 每次重置为-1\r\n                steps: steps,\r\n                vertex_left: vertex_left,\r\n                vertex_top: vertex_top,\r\n                curvature: curvature\r\n            });\r\n        };\r\n\r\n        /**\r\n         * 开始运动，可自己调用\r\n         */\r\n        self.play = function () {\r\n            this.move();\r\n        };\r\n\r\n        /**\r\n         * 按step运动\r\n         */\r\n        self.move = function () {\r\n            var settings = this.settings,\r\n                start = settings.start,\r\n                count = settings.count,\r\n                steps = settings.steps,\r\n                end = settings.end;\r\n            // 计算left top值\r\n            var left = start.left + (end.left - start.left) * count / steps,\r\n                top = settings.curvature == 0 ? start.top + (end.top - start.top) * count / steps : settings.curvature * Math.pow(left - settings.vertex_left, 2) + settings.vertex_top;\r\n            // 运动过程中有改变大小\r\n            if (end.width != null && end.height != null) {\r\n                var i = steps / 2,\r\n                    width = end.width - (end.width - start.width) * Math.cos(count < i ? 0 : (count - i) / (steps - i) * Math.PI / 2),\r\n                    height = end.height - (end.height - start.height) * Math.cos(count < i ? 0 : (count - i) / (steps - i) * Math.PI / 2);\r\n                $element.css({width: width + \"px\", height: height + \"px\", \"font-size\": Math.min(width, height) + \"px\"});\r\n            }\r\n            $element.css({\r\n                left: left + \"px\",\r\n                top: top + \"px\"\r\n            });\r\n            settings.count++;\r\n            // 定时任务\r\n            var time = window.requestAnimationFrame($.proxy(this.move, this));\r\n            if (count == steps) {\r\n                window.cancelAnimationFrame(time);\r\n                // fire callback\r\n                settings.onEnd.apply(this);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * 销毁\r\n         */\r\n        self.destroy = function(){\r\n            $element.remove();\r\n        };\r\n\r\n        self.init(options);\r\n    };\r\n\r\n    // add the plugin to the jQuery.fn object\r\n    $.fn.fly = function (options) {\r\n        return this.each(function () {\r\n            if (undefined == $(this).data('fly')) {\r\n                $(this).data('fly', new $.fly(this, options));\r\n            }\r\n        });\r\n    };\r\n})($);"],"sourceRoot":"webpack-module://"}